product_ideas_with_category_path:
  post:
    operationId: ideas_create_with_category
    summary: Create an idea with a category
    description: |
      Creates a new idea for the specified product with a category.

      When creating an idea where the creator is an idea user we strongly suggest to provide
      the submitted_idea_portal_id attribute to the idea to ensure that the idea is created
      in the correct ideas portal and the user gets access to the portal.

      If you don't want the idea to be submitted to any portal, you can skip this by setting
      skip_portal: true in the request body.
    tags:
      - Ideas
    parameters:
      - name: product_id
        in: path
        required: true
        schema:
          type: string
        description: Numeric ID or key of the product
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../schemas/ideas/create_request.yaml#/IdeaCreateRequest'
          example:
            idea:
              name: "New idea with category"
              categories: ["Storage"]
    responses:
      '200':
        description: Idea created
        content:
          application/json:
            schema:
              $ref: '../../schemas/ideas/idea.yaml#/IdeaResponse'
            example:
              idea:
                id: "6776881149484843289"
                name: "New idea with category"
                reference_num: "PRJ1-I-10"
                score: 2
                created_at: "2019-01-01T00:00:00.000Z"
                updated_at: "2019-01-01T00:00:00.000Z"
                product_id: "131414752"
                votes: 0
                initial_votes: 0
                status_changed_at: "2019-01-01T00:00:00.000Z"
                workflow_status:
                  id: "3259216"
                  name: "New"
                  position: 1
                  complete: false
                  color: "#dce7c6"
                description:
                  id: "6776881149490979633"
                  body: ""
                  created_at: "2019-01-01T00:00:00.000Z"
                  updated_at: "2019-01-01T00:00:00.000Z"
                  attachments: []
                visibility: "Visible to all ideas portal users"
                url: "http://company.aha.io/ideas/ideas/PRJ1-I-10"
                resource: "http://company.aha.io/api/v1/ideas/PRJ1-I-10"
                product:
                  id: "131414752"
                  reference_prefix: "PRJ1"
                  name: "Project 1"
                  product_line: false
                  created_at: "2019-01-01T00:00:00.000Z"
                  workspace_type: "product_workspace"
                  url: "http://company.aha.io/projects/PRJ1"
                created_by_user:
                  id: "1020675218"
                  name: "Mary Humpty"
                  email: "no-reply@aha.io"
                  created_at: "2019-01-01T00:00:00.000Z"
                  updated_at: "2019-01-01T00:00:00.000Z"
                assigned_to_user: null
                endorsements_count: 0
                comments_count: 0
                score_facts: []
                tags: []
                full_tags: []
                categories:
                  - id: "552935478"
                    name: "Storage"
                    parent_id: null
                    project_id: 131414752
                    created_at: "2019-01-01T00:00:00.000Z"
                custom_fields: []
                workflow_status_times:
                  - status_id: "3259216"
                    status_name: "New"
                    started_at: "2019-01-01T00:00:00.000Z"
                    ended_at: null
                submitted_idea_portal_record_url: "https://testideaportal1.ideas.aha.io:8338/ideas/PRJ1-I-10"
                integration_fields: []
    x-code-samples:
      - lang: curl
        source: |
          curl "https://company.aha.io/api/v1/products/PRJ1/ideas" -d '{"idea":{"name":"New idea with category","categories":["Storage"]}}' -X POST \
            -H "Authorization: Bearer 15b60d42d4bc417284a246ced6877b0bf13fb4aca415f7b55f7006bc3694a8ab" \
            -H "Content-Type: application/json" \
            -H "Accept: application/json"
